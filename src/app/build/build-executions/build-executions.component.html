<div class="container-xl">
  <div class="page-header mb-3">
    <div class="row align-items-center mw-100">
      <div class="col">
        <div class="mb-1">
          <ol class="breadcrumb" aria-label="breadcrumbs">
            <li class="breadcrumb-item"><a routerLink="/build">Build</a></li>
            <li class="breadcrumb-item active" aria-current="page"><a href="#">Details</a></li>
          </ol>
        </div>
        <!--        <h2 class="page-title">-->
        <!--          <span class="text-truncate">Edit</span>-->
        <!--        </h2>-->
      </div>
      <div class="col-auto">
        <div class="btn-list">
          <a (click)="runBuild()" class="btn btn-primary">
            Run
          </a>
          <a (click)="destroyBuild()" class="btn btn-danger">
            Destroy
          </a>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-12 col-md-2 px-4">
      <app-build-menu [id]="build.id"></app-build-menu>
    </div>
    <div class="col-12 col-md-10">
      <div class="row">
        <div class="col-12">
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">Executions</h3>
            </div>
            <div class="card-body border-bottom py-3">
              <div class="d-flex">
                <div class="text-muted">
                  Show
                  <div class="mx-2 d-inline-block">
                    <input type="text" class="form-control form-control-sm" value="8" size="3"
                           aria-label="Invoices count">
                  </div>
                  entries
                </div>
                <div class="ms-auto text-muted">
                  Search:
                  <div class="ms-2 d-inline-block">
                    <input type="text" class="form-control form-control-sm" aria-label="Search invoice">
                  </div>
                </div>
              </div>
            </div>
            <div class="table-responsive">
              <table class="table card-table table-vcenter text-nowrap datatable">
                <thead>
                <tr>
                  <th class="w-1">ID</th>
                  <th>Execution Time</th>
                  <th>Date</th>
                  <th>Status</th>
                  <th>User</th>
                  <th></th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let buildExecution of buildExecutions">
                  <td><span class="text-muted">{{buildExecution.id}}</span></td>
                  <!--                  <td>{{buildExecution.endDate ? buildExecution.endDate.getTime() - buildExecution.startDate.getTime() : ''}}</td>-->
                  <td>{{getExecutionTime(buildExecution)}}</td>
                  <td>{{buildExecution.startDate | date}}</td>
                  <td>
                    <span class="badge bg-success me-1" [ngClass]="{'bg-success': buildExecution.status === 'FINISHED','bg-danger': buildExecution.status === 'ERROR',
                    'bg-warning': buildExecution.status === 'PENDING', 'bg-blue': buildExecution.status === 'RUNNING'}"></span> {{buildExecution.status}}
                  </td>
                  <td>Damien Trouillet</td>
                  <td class="text-end">
                      <div class="dropdown d-inline-block" ngbDropdown boundary="viewport">
                        <button class="btn dropdown-toggle align-text-top" data-bs-boundary="viewport" data-boundary="viewport"
                                data-bs-toggle="dropdown" ngbDropdownToggle>Actions</button>
                        <div class="dropdown-menu dropdown-menu-end" ngbDropdownMenu>
                          <a ngbDropdownItem class="dropdown-item" href="#">
                            Action
                          </a>
                          <a ngbDropdownItem class="dropdown-item" href="#">
                            Another action
                          </a>
                        </div>
                      </div>
                  </td>
                </tr>
                </tbody>
              </table>
            </div>
            <div class="card-footer d-flex align-items-center">
              <p class="m-0 text-muted">Showing <span>1</span> to <span>8</span> of <span>16</span> entries</p>
              <ul class="pagination m-0 ms-auto">
                <li class="page-item disabled">
                  <a class="page-link" href="#" tabindex="-1" aria-disabled="true">
                    <i-tabler name="chevron-left" class="icon"></i-tabler>
                    prev
                  </a>
                </li>
                <li class="page-item"><a class="page-link" href="#">1</a></li>
                <li class="page-item active"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item"><a class="page-link" href="#">4</a></li>
                <li class="page-item"><a class="page-link" href="#">5</a></li>
                <li class="page-item">
                  <a class="page-link" href="#">
                    next
                    <i-tabler name="chevron-right" class="icon"></i-tabler>
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

